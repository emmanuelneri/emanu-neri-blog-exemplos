<ui:composition
		xmlns="http://www.w3.org/1999/xhtml"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:ui="http://java.sun.com/jsf/facelets">

	<div class="panel panel-default">
		<div class="panel-heading">Formul√°rio</div>
			<h:form id="formFormulario">
				<div class="panel-body">

					<span class="control-label">Nome</span>
					<h:inputText value="#{formularioBootstrapController.pessoa.nome}" styleClass="form-control" />

					<span class="control-label">Sobrenome</span>
					<h:inputText value="#{formularioBootstrapController.pessoa.sobrenome}" styleClass="form-control"/>

					<span class="control-label">Sexo</span>
					<h:selectOneRadio value="#{formularioBootstrapController.pessoa.sexo}" styleClass="form-control">
						<f:selectItems value="#{formularioBootstrapController.sexos}" />
					</h:selectOneRadio>

					<div class="text-right" style="padding-top: 15px">
						<h:commandButton value="Adicionar" actionListener="#{formularioBootstrapController.adicionar}"
							styleClass="btn bg-primary">
							<f:ajax event="change" render=":formTable" execute="@this" />
						</h:commandButton>
					</div>
				</div>
			</h:form>
		</div>

	<h:form id="formTable">
	<div class="panel panel-default">
		<div class="panel-heading">Dados</div>

		<table class="table">
			<tr>
				<th>
					Nome
				</th>
				<th>
					Sobrenome
				</th>
				<th>
					Sexo
				</th>
				<th>
					Remover
				</th>
			</tr>
			<ui:repeat value="#{formularioBootstrapController.pessoas}" var="pessoa">
				<tr>
					<td>
						${pessoa.nome}
					</td>
					<td>
						${pessoa.sobrenome}
					</td>
					<td>
						${pessoa.sexo}
					</td>
					<td>
						<h:commandButton value="Remover" actionListener="#{formularioBootstrapController.remover}"
										 styleClass="btn bg-danger">
							<f:setPropertyActionListener value="#{pessoa}" target="#{formularioBootstrapController.pessoa}" />
							<f:ajax event="change" render=":formTable :formFormulario" execute="@this" />
						</h:commandButton>
					</td>
				</tr>
			</ui:repeat>
		</table>
	</div> </h:form>

</ui:composition>